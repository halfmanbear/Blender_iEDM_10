# EDM model files – Blender Import Addon (EDM v10)

Unofficial, experimental Blender addon to **import DCS World `.EDM` model files (EDM v10)** into Blender.

## Compatibility
- **Blender:** 4.5 LTS (tested on **4.5.6+**)
- **EDM format:** v10 (primary target)
- **Recommended:** Install/enable the official Eagle Dynamics `io_scene_edm` addon for best parity (materials/props integration)

Official ED exporter addon (recommended):
- `io_scene_edm` (Blender plugin build 259871): https://mods.eagle.ru/blender_plugin/io_scene_edm-259871.zip  
  In Blender press `N` → **EDM Export** tab for ED object properties.

## Legal & Usage Disclaimer
This project is **unofficial** and not affiliated with Eagle Dynamics.
All `.EDM` files/assets remain the property of their rights holders and are subject to the DCS World EULA.

Intended for personal/private use, mod development, technical research, preservation, diagnostics, and learning.
Not for commercial use or redistribution of proprietary ED assets.

---

## What works (current)
### Import core
- Reads and parses EDM **v10** file data
- Imports geometry and object hierarchies (empties, parent/child structure)
- Reconstructs transforms (location/rotation/scale)
- Imports animation/controller nodes:
  - rotation/translation/scale
  - visibility controllers

### Scene semantics
- Collision shells and collision-related objects are imported and categorized
- Optional: import EDM **Bounding Box** and **User Box** as cube empties
- Handles split render nodes / vertex buffer compaction cases

### Materials / shading
- Reconstructs materials and shader setups **when the official `io_scene_edm` addon is installed**
- Multi-UV channel support (including lightmaps where present)

### Testing / parity
- Includes headless parity testing against reference `.blend` files generated by the official exporter

---

## Import options (File → Import → DCS World (.edm))
- **Shadeless:** import materials without lighting dependencies
- **Mesh Origins:** `Approximate` (recenter for practical pivots) or `Raw EDM` (preserve raw mesh coordinates)
- **Import Bounding Box / User Box**
- **Debug Transforms:** prints EDM vs Blender transform details

---

## Known limitations
- **Single-file import only** (multi-select UI is ignored; only the chosen file is imported)
- Original mesh object names cannot be perfectly recovered from EDM v10 alone (exporter strips some info)
- Quad reconstruction (triangles → quads) is heuristic-based and may vary
- Some exporter-side conventions are inferred and may differ in rare edge cases (bones/visibility/light helper chains)

## In progress / not fully validated
- Further validation against less common EDM feature combinations
- Refinement of topology/quad merging heuristics and naming consistency

---

## Further information
Project docs / background: https://ndevenish.github.io/Blender_ioEDM/
